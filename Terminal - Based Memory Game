import os
import random
import time

def clear():
    os.system("cls" if os.name == "nt" else "clear")

cards = ["ğŸ","ğŸŒ","ğŸ¥","ğŸ‡","ğŸ‰","ğŸ“","ğŸ’","ğŸ"]
cards = cards * 2

#shuffle cards
random.shuffle(cards)

#hide cards
hidden = ["â“"]*len(cards)
matched = [False]*len(cards)
TIME_LIMIT = 60 #seconds

def display_board():
    clear()

    print("\n ğŸ§  Memory PUZZLE GAME!")
    print("\n Match the pairs before the time runs out")

    for i in range(len(cards)):
        print(f" {i+1}: {hidden[i]}", end="\t")
        if(i+1)%4 == 0:
            print()
    print()

def play_game():
    start = time.time()
    matched_pairs = 0

    while True:
        elapsed = int(time.time() - start)
        remaining = TIME_LIMIT - elapsed

        if remaining <= 0:
            print("âŒ› Time out! You Lost.")
            return
        print(f"âŒ› Time Left: {remaining}, seconds")
        print(f" ğŸ¯ Pairs Matched: {matched_pairs}/{len(cards)//2}\n")

        try:
            c1 = int(input("Pick card1 from (1- 16):")) - 1
            c2 = int(input("Pick card 2 from (1-16):")) - 1

        except ValueError:
            print("âŒ Invalid input. Use Numbers Only:")
            time.sleep()
            continue

        if (c1<0 or c1>= len(cards) or
            c2<0 or c2>= len(cards) or
            c1==c2 or matched[c1] or matched[c2]):
            print("âŒ Invalid move! Try again.")
            time.sleep(1)
            continue

    hidden[c1] = cards[c1]
    hidden[c2] = cards[c2]
    display_board()
    time.sleep(1)

    if cards[c1] == cards[c2]:
        print("\n ğŸ‰Match Found!")
        matched[c1] = macthed[c2] = True
        matched_pairs += 1

    else:
        print("\n âŒ Not a Match!")
        hidden[c1]= "â“"
        hidden[c2]= "â“"
        
    time.sleep(1)

    if matched_pairs == (len(cards))//2:
        print("\nğŸ‰ğŸ‰ You Won!.All Pairs Mattched:")
        return
    
    play_game()




        

                








            
        
    
    